<form [formGroup]="formGroup">
  <div class="row">
    <div class="col-6 align-items-center">
      <label class="form-label" for="username">Username</label>
      <div class="input-group">
        <div class="input-group-text">@</div>
        <input
          type="text"
          class="form-control"
          [ngClass]="{
            'is-valid': isValid('username'),
            'is-invalid': isUnValid('username')
          }"
          formControlName="username"
          id="username"
          aria-describedby="validationServerUsernameFeedback"
        />
        <div class="valid-feedback">Looks good!</div>
        <div
          *ngIf="fetchError('username', 'required')"
          id="validationServerUsernameFeedback"
          class="invalid-feedback"
        >
          Username already exist
        </div>
        <div
          *ngIf="fetchError('username', 'required')"
          id="validationServerUsernameFeedback"
          class="invalid-feedback"
        >
          Username Required
        </div>
        <div
          *ngIf="fetchError('username', 'minlength')"
          id="validationServerUsernameFeedback"
          class="invalid-feedback"
        >
          Username can not be less then 3 caracters
        </div>
        <div
          *ngIf="fetchError('username', 'maxlength')"
          id="validationServerUsernameFeedback"
          class="invalid-feedback"
        >
          Username can not be more then 3 caracters
        </div>
      </div>
    </div>

    <div class="col-6">
      <label class="form-label">Full Name</label>
      <input
        type="text"
        class="form-control"
        id="fullName"
        [ngClass]="{
          'is-valid': isValid('fullName'),
          'is-invalid': isUnValid('fullName')
        }"
        aria-describedby="validationServerFullNameFeedback"
        formControlName="fullName"
      />
      <div class="valid-feedback">Looks good!</div>
      <div
        *ngIf="fetchError('fullName', 'maxlength')"
        id="validationServerUsernameFeedback"
        class="invalid-feedback"
      >
        fullName can not be more then 20 caracters
      </div>
      <div
        *ngIf="fetchError('fullName', 'required')"
        id="validationServerUsernameFeedback"
        class="invalid-feedback"
      >
        fullName is required
      </div>
    </div>
  </div>
  <div class="row mt-3">
    <div class="col-12">
      <label class="form-label">Email</label>
      <div class="input-group">
        <input
          type="text"
          class="form-control"
          [ngClass]="{
            'is-valid': isValid('email'),
            'is-invalid': isUnValid('email')
          }"
          formControlName="email"
        />
        <div class="input-group-text">@gmail.com</div>
        <div class="valid-feedback">Valid</div>
        <div
          *ngIf="fetchError('email', 'emailUsed')"
          id="validationServerUsernameFeedback"
          class="invalid-feedback"
        >
          this email already Used
        </div>
        <div
          *ngIf="fetchError('email', 'required')"
          id="validationServerUsernameFeedback"
          class="invalid-feedback"
        >
          email is required
        </div>
        <div
          *ngIf="fetchError('email', 'email')"
          id="validationServerUsernameFeedback"
          class="invalid-feedback"
        >
          Enter a Valid Email
        </div>
      </div>
    </div>
  </div>
  <div class="row mt-3">
    <div class="col">
      <label class="form-label">Password</label>
      <input
        type="password"
        class="form-control"
        [ngClass]="{
          'is-valid': isValid('password'),
          'is-invalid': isUnValid('password')
        }"
        formControlName="password"
      />
      <div
        *ngIf="fetchError('password', 'required')"
        id="validationServerUsernameFeedback"
        class="invalid-feedback"
      >
        Password Required
      </div>
      <div
        *ngIf="fetchError('password', 'minlength')"
        id="validationServerUsernameFeedback"
        class="invalid-feedback"
      >
        Password CAN NOT BE LESS THEN 5 CARACTERS
      </div>
    </div>
    <div class="col">
      <label class="form-label">Confirm Password</label>
      <input
        type="password"
        class="form-control"
        [ngClass]="{
          'is-valid': isValid('confirm'),
          'is-invalid': isUnValid('confirm')
        }"
        formControlName="confirm"
      />
    </div>
  </div>
  <div class="row mt-5 align-items-center">
    <div class="col-6 d-flex justify-content-center">
      <button type="submit" class="btn btn-main b-n-o">Sign up</button>
    </div>
    <div class="col-6">
      <a routerLink="/login" class="btn btn-link b-n-o">Already have account</a>
    </div>
  </div>
</form>
<div class="container mt-3">
  <p>Form Status : {{ formGroup.status }}</p>
  <p>username : {{ formGroup.get("username")?.errors | json }}</p>
  <p>full Name : {{ formGroup.get("fullName")?.valid | json }}</p>
  <p>email : {{ formGroup.get("email")?.errors | json }}</p>
  <p>fullname : {{ formGroup.valid }}</p>
</div>
